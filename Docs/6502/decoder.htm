<html lang="en">

<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-15">
<title>6502 Instruction Set</title>
<style type="text/css">
<!--
p,td,xmp { font-family: courier,fixed,sans-serif; font-size: 10px; }
h1 { font-family: arial,helvetica,sans-serif; font-size: 24px; }
table.opctable, table.opctable td {
    border-style: solid;
    border-width: 1px;
    border-color: #222222;
}
@page { size:landscape; }
-->

td.op {
    background-color: normal;
}

span.cc {
    font-size: 10px;
    position: relative;
    top: -5px;
    right: -5px;
    float: right;
    background-color: gray;
    color: white;
    font-weight: bold;
}
</style>

<script>

function invert()
{
    arr = document.getElementsByClassName('op');
    for ( op in arr )
    {
        if ( arr[op].style.backgroundColor == "lime" ) arr[op].style.backgroundColor = "white";
        else arr[op].style.backgroundColor = "lime";
    }
}

function highlight()
{
    clear = ! document.irform.clear.checked;

    ir = document.irform.IR.value;
    //alert (ir);
    a = ir.split("");

    ir = mask = 0;
    for ( i=0; i<8; i++ )
    {
        bit = a[i];
        if ( bit == '1' ) ir |= 1 << (7-i);
        if ( bit == 'X' || bit == 'x' ) mask |= 1 << (7-i);
    }

    //alert ( ir.toString(16) + ":" + mask.toString(16) );

    arr = document.getElementsByClassName('op');
    for ( op in arr )
    {
        if ( (op & ~mask) == ir ) arr[op].style.backgroundColor = "lime";
        else {
            if (clear) arr[op].style.backgroundColor = "white";
        }
    }

}

function twobits ( a, b1, b2 )
{
    if ( parseInt(a[b1]) == 0 && parseInt(a[b2]) == 0 ) return 'X';
    else if ( parseInt(a[b1]) == 0 && parseInt(a[b2]) == 1 ) return '0';
    else if ( parseInt(a[b1]) == 1 && parseInt(a[b2]) == 0 ) return '1';
    else return '?';
}

function makebits()
{
    bits = document.bitform.bits.value;
    //alert (bits);

    a = bits.split("");

/*
10 5 6 2 3 4 7  0|1 2345

A
00 010110000010 010 0000
*/

    t = 'X';
    mask = '';

    // Clock step.
    if ( parseInt(a[0]) ) t = '1';
    if ( parseInt(a[1]) ) t = '0';
    if ( parseInt(a[17]) ) t = '2';
    if ( parseInt(a[18]) ) t = '3';
    if ( parseInt(a[19]) ) t = '4';
    if ( parseInt(a[20]) ) t = '5';

    // bit 7-2
    mask += twobits ( a, 12, 13 );
    mask += twobits ( a, 4, 5 );
    mask += twobits ( a, 2, 3 );
    mask += twobits ( a, 10, 11 );
    mask += twobits ( a, 8, 9 );
    mask += twobits ( a, 6, 7 );

    // bits 1 and 0.

    b1 = parseInt(a[14]);
    both = parseInt(a[15]);
    b0 = parseInt(a[16]);

    if ( both == 0 )
    {
        if ( b1 == 1 && b0 == 0 ) mask += 'X1';
        else if ( b1 == 0 && b0 == 1 ) mask += '1X';
        else if ( b1 == 0 && b0 == 0 ) mask += 'XX';
        else mask += '??';
    }
    else mask += '00';

    document.getElementById ('irmask').innerHTML = "IR=" + mask + " T" + t;
}

window.onload = function() {
    var tds = document.getElementsByClassName("op");
    for(var i = 0; i < tds.length; i++) {
        var td = tds[i];
        td.onclick = function() {
            if ( this.style.backgroundColor == "lime" ) this.style.backgroundColor = "white";
            else this.style.backgroundColor = "lime";            
        }
    }
}

</script>

</head>

<body>

<form name=irform>
IR <input type=text name=IR>
<input type=button onclick="highlight();" value="Decode">
<input type=button onclick="invert();" value="INVERT"><br>
<input type=checkbox name=clear />Do not clear table
</form>

<table border="1" cellspacing="0" cellpadding="5" class="opctable">
<tr>
<td>HI</td><td colspan="16" align="center">LO-BYTE</td>
</tr>
<tr valign="top">
<td nowrap>&nbsp;</td><td align="center" nowrap>00</td><td align="center" nowrap>01</td><td align="center" nowrap>02</td><td align="center" nowrap>03</td><td align="center" nowrap>04</td><td align="center" nowrap>05</td><td align="center" nowrap>06</td><td align="center" nowrap>07</td><td align="center" nowrap>08</td><td align="center" nowrap>09</td><td align="center" nowrap>0A</td><td align="center" nowrap>0B</td><td align="center" nowrap>0C</td><td align="center" nowrap>0D</td><td align="center" nowrap>0E</td><td align="center" nowrap>0F</td></tr>
<tr valign="top">
<td nowrap>00</td><td nowrap class=op>BRK impl<span class="cc">7</span></td><td nowrap class=op>ORA X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ORA zpg<span class="cc">3</span></td><td nowrap class=op>ASL zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>PHP impl<span class="cc">3</span></td><td nowrap class=op>ORA #<span class="cc">2</span></td><td nowrap class=op>ASL A<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ORA abs<span class="cc">4</span></td><td nowrap class=op>ASL abs<span class="cc">6</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>01</td><td nowrap class=op>BPL rel<span class="cc">2*</span></td><td nowrap class=op>ORA ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ORA zpg,X<span class="cc">4</span></td><td nowrap class=op>ASL zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CLC impl<span class="cc">2</span></td><td nowrap class=op>ORA abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ORA abs,X<span class="cc">4*</span></td><td nowrap class=op>ASL abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>02</td><td nowrap class=op>JSR abs<span class="cc">6</span></td><td nowrap class=op>AND X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>BIT zpg<span class="cc">3</span></td><td nowrap class=op>AND zpg<span class="cc">3</span></td><td nowrap class=op>ROL zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>PLP impl<span class="cc">4</span></td><td nowrap class=op>AND #<span class="cc">2</span></td><td nowrap class=op>ROL A<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>BIT abs<span class="cc">4</span></td><td nowrap class=op>AND abs<span class="cc">4</span></td><td nowrap class=op>ROL abs<span class="cc">6</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>03</td><td nowrap class=op>BMI rel<span class="cc">2*</span></td><td nowrap class=op>AND ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>AND zpg,X<span class="cc">4</span></td><td nowrap class=op>ROL zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>SEC impl<span class="cc">2</span></td><td nowrap class=op>AND abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>AND abs,X<span class="cc">4*</span></td><td nowrap class=op>ROL abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>04</td><td nowrap class=op>RTI impl<span class="cc">6</span></td><td nowrap class=op>EOR X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>EOR zpg<span class="cc">3</span></td><td nowrap class=op>LSR zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>PHA impl<span class="cc">3</span></td><td nowrap class=op>EOR #<span class="cc">2</span></td><td nowrap class=op>LSR A<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>JMP abs<span class="cc">3</span></td><td nowrap class=op>EOR abs<span class="cc">4</span></td><td nowrap class=op>LSR abs<span class="cc">6</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>05</td><td nowrap class=op>BVC rel<span class="cc">2*</span></td><td nowrap class=op>EOR ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>EOR zpg,X<span class="cc">4</span></td><td nowrap class=op>LSR zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CLI impl<span class="cc">2</span></td><td nowrap class=op>EOR abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>EOR abs,X<span class="cc">4*</span></td><td nowrap class=op>LSR abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>06</td><td nowrap class=op>RTS impl<span class="cc">6</span></td><td nowrap class=op>ADC X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ADC zpg<span class="cc">3</span></td><td nowrap class=op>ROR zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>PLA impl<span class="cc">4</span></td><td nowrap class=op>ADC #<span class="cc">2</span></td><td nowrap class=op>ROR A<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>JMP ind<span class="cc">5</span></td><td nowrap class=op>ADC abs<span class="cc">4</span></td><td nowrap class=op>ROR abs<span class="cc">6</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>07</td><td nowrap class=op>BVS rel<span class="cc">2*</span></td><td nowrap class=op>ADC ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ADC zpg,X<span class="cc">4</span></td><td nowrap class=op>ROR zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>SEI impl<span class="cc">2</span></td><td nowrap class=op>ADC abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>ADC abs,X<span class="cc">4*</span></td><td nowrap class=op>ROR abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>08</td><td nowrap class=op>??? ---</td><td nowrap class=op>STA X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>STY zpg<span class="cc">3</span></td><td nowrap class=op>STA zpg<span class="cc">3</span></td><td nowrap class=op>STX zpg<span class="cc">3</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>DEY impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>TXA impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>STY abs<span class="cc">4</span></td><td nowrap class=op>STA abs<span class="cc">4</span></td><td nowrap class=op>STX abs<span class="cc">4</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>09</td><td nowrap class=op>BCC rel<span class="cc">2*</span></td><td nowrap class=op>STA ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>STY zpg,X<span class="cc">4</span></td><td nowrap class=op>STA zpg,X<span class="cc">4</span></td><td nowrap class=op>STX zpg,Y<span class="cc">4</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>TYA impl<span class="cc">2</span></td><td nowrap class=op>STA abs,Y<span class="cc">5</span></td><td nowrap class=op>TXS impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>STA abs,X<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0A</td><td nowrap class=op>LDY #<span class="cc">2</span></td><td nowrap class=op>LDA X,ind<span class="cc">6</span></td><td nowrap class=op>LDX #<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>LDY zpg<span class="cc">3</span></td><td nowrap class=op>LDA zpg<span class="cc">3</span></td><td nowrap class=op>LDX zpg<span class="cc">3</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>TAY impl<span class="cc">2</span></td><td nowrap class=op>LDA #<span class="cc">2</span></td><td nowrap class=op>TAX impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>LDY abs<span class="cc">4</span></td><td nowrap class=op>LDA abs<span class="cc">4</span></td><td nowrap class=op>LDX abs<span class="cc">4</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0B</td><td nowrap class=op>BCS rel<span class="cc">2*</span></td><td nowrap class=op>LDA ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>LDY zpg,X<span class="cc">4</span></td><td nowrap class=op>LDA zpg,X<span class="cc">4</span></td><td nowrap class=op>LDX zpg,Y<span class="cc">4</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CLV impl<span class="cc">2</span></td><td nowrap class=op>LDA abs,Y<span class="cc">4*</span></td><td nowrap class=op>TSX impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>LDY abs,X<span class="cc">4*</span></td><td nowrap class=op>LDA abs,X<span class="cc">4*</span></td><td nowrap class=op>LDX abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0C</td><td nowrap class=op>CPY #<span class="cc">2</span></td><td nowrap class=op>CMP X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>CPY zpg<span class="cc">3</span></td><td nowrap class=op>CMP zpg<span class="cc">3</span></td><td nowrap class=op>DEC zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>INY impl<span class="cc">2</span></td><td nowrap class=op>CMP #<span class="cc">2</span></td><td nowrap class=op>DEX impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CPY abs<span class="cc">4</span></td><td nowrap class=op>CMP abs<span class="cc">4</span></td><td nowrap class=op>DEC abs<span class="cc">3?</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0D</td><td nowrap class=op>BNE rel<span class="cc">2*</span></td><td nowrap class=op>CMP ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>CMP zpg,X<span class="cc">4</span></td><td nowrap class=op>DEC zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CLD impl<span class="cc">2</span></td><td nowrap class=op>CMP abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>CMP abs,X<span class="cc">4*</span></td><td nowrap class=op>DEC abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0E</td><td nowrap class=op>CPX #<span class="cc">2</span></td><td nowrap class=op>SBC X,ind<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>CPX zpg<span class="cc">3</span></td><td nowrap class=op>SBC zpg<span class="cc">3</span></td><td nowrap class=op>INC zpg<span class="cc">5</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>INX impl<span class="cc">2</span></td><td nowrap class=op>SBC #<span class="cc">2</span></td><td nowrap class=op>NOP impl<span class="cc">2</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>CPX abs<span class="cc">4</span></td><td nowrap class=op>SBC abs<span class="cc">4</span></td><td nowrap class=op>INC abs<span class="cc">6</span></td><td nowrap class=op>??? ---</td>
<tr>
<tr valign="top">
<td nowrap>0F</td><td nowrap class=op>BEQ rel<span class="cc">2*</span></td><td nowrap class=op>SBC ind,Y<span class="cc">5*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>SBC zpg,X<span class="cc">4</span></td><td nowrap class=op>INC zpg,X<span class="cc">6</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>SED impl<span class="cc">2</span></td><td nowrap class=op>SBC abs,Y<span class="cc">4*</span></td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>??? ---</td><td nowrap class=op>SBC abs,X<span class="cc">4*</span></td><td nowrap class=op>INC abs,X<span class="cc">7</span></td><td nowrap class=op>??? ---</td>
<tr>
</table>
<p>&nbsp;</p>

<br>

<form name=bitform>
Raw bits <input type=text name=bits>
<input type=button onclick="makebits();" value="Make IR mask">
</form>
<div id="irmask"></div>


</body>
</html>